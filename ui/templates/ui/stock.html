{% extends "panel/base.html" %}
{% block title %}Stock - Cocina{% endblock %}

{% block content %}
<h3 class="mb-3">Stock de platos</h3>

{% if messages %}
  {% for m in messages %}
    <div class="alert alert-{{ m.tags }} py-2">{{ m }}</div>
  {% endfor %}
{% endif %}

<div class="card shadow-sm">
  <div class="card-header">Inventario actual</div>
  <div class="card-body">

    {% if platos %}
      <div class="table-responsive">
        <table class="table align-middle">
          <thead>
            <tr>
              <th>Plato</th>
              <th>Precio</th>
              <th>Stock</th>
              <th>Estado</th>
            </tr>
          </thead>
          <tbody>
            {% for p in platos %}
            <tr>
              <td>{{ p.nombre }}</td>
              <td>${{ p.precio }}</td>
              <td>
                {% if p.stock <= 0 %}
                  <span class="badge bg-danger">0</span>
                {% elif p.stock < 5 %}
                  <span class="badge bg-warning text-dark">{{ p.stock }}</span>
                {% else %}
                  <span class="badge bg-success">{{ p.stock }}</span>
                {% endif %}
              </td>
              <td>
                {% if p.activo %}
                  <span class="badge bg-success">Activo</span>
                {% else %}
                  <span class="badge bg-secondary">Inactivo</span>
                {% endif %}
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    {% else %}
      <p class="text-muted mb-0">No hay platos cargados.</p>
    {% endif %}

  </div>
</div>
{% endblock %}
